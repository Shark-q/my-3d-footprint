# My 3D Footprint (æˆ‘çš„ 3D è¶³è¿¹)

[![Next.js 16](https://img.shields.io/badge/Next.js-16.0.4-black?style=flat-square&logo=next.js)](https://nextjs.org/)
[![React 19](https://img.shields.io/badge/React-19.2.0-blue?style=flat-square&logo=react)](https://react.dev/)
[![Tailwind CSS 4](https://img.shields.io/badge/Tailwind-4.0-38bdf8?style=flat-square&logo=tailwindcss)](https://tailwindcss.com/)
[![Mapbox GL JS](https://img.shields.io/badge/Mapbox-GL%20JS-4264fb?style=flat-square&logo=mapbox)](https://www.mapbox.com/)

ä¸€ä¸ªæå…·è§†è§‰å†²å‡»åŠ›çš„ 3D åœ°çƒè¶³è¿¹è®°å½•åº”ç”¨ã€‚ä¸Šä¼ ä½ çš„æ—…è¡Œç…§ç‰‡ï¼Œè‡ªåŠ¨ç‚¹äº®åœ°å›¾ä¸Šçš„åŒºåŸŸï¼Œæ¢ç´¢æœªçŸ¥çš„è¿·é›¾ï¼Œå¹¶ç”Ÿæˆæ²‰æµ¸å¼çš„ AI æ—…è¡Œæ•…äº‹ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸŒ 3D æ²‰æµ¸å¼åœ°çƒ**: åŸºäº Mapbox GL JS çš„é«˜æ€§èƒ½ 3D åœ°çƒï¼Œæ”¯æŒåœ°å½¢æ¸²æŸ“ã€å¤§æ°”å±‚å…‰æ•ˆå’ŒåŠ¨æ€è§†è§’åˆ‡æ¢ã€‚
- **ğŸŒ«ï¸ æˆ˜äº‰è¿·é›¾ (Fog of War)**: æ¢ç´¢æ¨¡å¼ä¸‹ï¼Œåœ°å›¾é»˜è®¤è¢«è¿·é›¾è¦†ç›–ã€‚ä¸Šä¼ ç…§ç‰‡è‡ªåŠ¨ç‚¹äº®å¯¹åº”åŒºåŸŸï¼ˆæ”¯æŒå›½å®¶ã€çœä»½ã€åŸå¸‚ä¸‰çº§ç²¾åº¦ï¼‰ã€‚
  - **å›½å†…**: é›†æˆé«˜å¾·/é˜¿é‡Œäº‘ GeoJSON æ•°æ®ï¼Œç²¾ç¡®åŒ¹é…è¡Œæ”¿åŒºåˆ’ã€‚
  - **å›½é™…**: æ™ºèƒ½åŒ¹é…å…¨çƒå›½å®¶è¾¹ç•Œï¼Œç‚¹äº®ä½ çš„ç¯çƒè¶³è¿¹ã€‚
- **ğŸ“¸ æ™ºèƒ½ç…§ç‰‡è§£æ**:
  - è‡ªåŠ¨è¯»å–ç…§ç‰‡ EXIF ä¿¡æ¯ï¼ˆGPS ç»çº¬åº¦ã€æ‹æ‘„æ—¶é—´ï¼‰ã€‚
  - å†…ç½®é€†åœ°ç†ç¼–ç æœåŠ¡ï¼Œè‡ªåŠ¨è·å–åœ°ç‚¹åç§°ã€‚
  - æ”¯æŒæ‰‹åŠ¨ä¿®æ­£å®šä½åç§»ã€‚
- **ğŸ“– æ²‰æµ¸æ•…äº‹æ¨¡å¼ (Story Mode)**:
  - å°†ä½ çš„è¶³è¿¹ä¸²è”æˆä¸€æ¡æ—¶é—´çº¿æ•…äº‹ã€‚
  - **æ»šåŠ¨è§†å·®äº¤äº’**: æ»šåŠ¨é˜…è¯»æ—¶ï¼Œåœ°çƒè‡ªåŠ¨é£è¡Œè‡³å¯¹åº”åœ°ç‚¹ã€‚
  - **å®æ—¶å¤©æ°”å›æº¯**: è‡ªåŠ¨æŸ¥è¯¢ç…§ç‰‡æ‹æ‘„å½“å¤©çš„å†å²å¤©æ°”ã€‚
  - **AI æ¶¦è‰²å›å¿†**: é›†æˆé€šä¹‰åƒé—® (Dashscope) å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼Œæ ¹æ®ç…§ç‰‡å†…å®¹å’Œç¯å¢ƒè‡ªåŠ¨ç”ŸæˆåŠ¨äººçš„æ—…è¡Œæ–‡æ¡ˆã€‚
- **ğŸ”’ å®‰å…¨ä¸éšç§**:
  - åŸºäº Clerk çš„å…¨å¥—ç”¨æˆ·è®¤è¯ä½“ç³»ã€‚
  - æ•æ„Ÿ API Key ä¸¥æ ¼å­˜æ”¾äºæœåŠ¡ç«¯ç¯å¢ƒå˜é‡ã€‚
  - å›¾ç‰‡èµ„æºå­˜å‚¨äº Supabase Storageã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: [Next.js 16 (App Router)](https://nextjs.org/)
- **è¯­è¨€**: TypeScript
- **UI åº“**: React 19 + Tailwind CSS v4 (CSS-first configuration)
- **åœ°å›¾å¼•æ“**: Mapbox GL JS + Turf.js (åœ°ç†ç©ºé—´è®¡ç®—)
- **åç«¯æœåŠ¡**:
  - **æ•°æ®åº“**: Prisma + PostgreSQL (with PostGIS extentions)
  - **å­˜å‚¨**: Supabase Storage
  - **è®¤è¯**: Clerk
  - **AI**: Aliyun Dashscope (Qwen-VL-Max)
- **å·¥å…·**: Exif.js, html2canvas

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/my-3d-footprint.git
cd my-3d-footprint
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env.local` å¹¶å¡«å…¥ä½ çš„ API Keysï¼š

```bash
cp .env.example .env.local
```

ä½ éœ€è¦é…ç½®ä»¥ä¸‹æœåŠ¡ï¼š
- **Mapbox**: è·å– Public Tokenã€‚
- **Clerk**: è·å– Publishable Key å’Œ Secret Keyã€‚
- **Supabase**: è·å– Project URL å’Œ Service Role Keyã€‚
- **Dashscope**: è·å–é˜¿é‡Œäº‘ç™¾ç‚¼ API Keyã€‚
- **Visual Crossing**: è·å– Weather API Keyã€‚

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) å¼€å§‹ä½“éªŒã€‚

## ğŸ“‚ ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢ä¸ API
â”‚   â”œâ”€â”€ api/                # åç«¯ API (å¤©æ°”ã€åœ°ç†ç¼–ç ã€AI åˆ†æç­‰)
â”‚   â”œâ”€â”€ map/                # åœ°å›¾ä¸»é¡µ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ components/             # React ç»„ä»¶
â”‚   â”œâ”€â”€ MapboxView.tsx      # åœ°å›¾æ ¸å¿ƒç»„ä»¶
â”‚   â”œâ”€â”€ StoryMode.tsx       # æ•…äº‹æ¨¡å¼ç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib/                    # å·¥å…·å‡½æ•°ä¸å®¢æˆ·ç«¯å•ä¾‹ (Prisma, Supabase)
â””â”€â”€ ...
```

## ğŸ“ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼è¯·ç¡®ä¿å¹¶åœ¨æäº¤å‰è¿è¡Œ `npm run lint`ã€‚

## ğŸ“„ è®¸å¯è¯

[MIT](LICENSE)
